//
//  Pathological subscriber
//  Subscribes to one random topic and prints received messages
//
package main

import (
	sb "quant/strategy/sbase"
	"github.com/widuu/goini"
	"fmt"
)

type DeltaHedge struct {
	StrategyName string
	base         sb.Sbase
}

func (dh *DeltaHedge) Init(){
	conf := goini.SetConfig("./conf/strategy/s_deltahedge.ini")
	dh.base.SubQuoteCodes = conf.GetValue("deltahedge", "subcode")
}

func main() {
	dh := new(DeltaHedge)
	dh.Init()
	dh.base.Init()
	waitchan := make(chan int)
	go dh.base.Run(waitchan)
	
	fmt.Printf("111\n")
	<- waitchan
	fmt.Printf("222\n")
}
